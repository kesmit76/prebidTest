<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Prebid Sovrn Test</title>
  <script async src="https://acdn.adnxs.com/prebid/not-for-prod/1/prebid.js"></script>
  <style>
    #ad-slot {
      width: 300px;
      height: 250px;
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <h3>Prebid Sovrn Test (No GAM) 2</h3>
  <div id="ad-slot"></div>

 <script>
  var pbjs = pbjs || {};
  pbjs.que = pbjs.que || [];

  var adUnits = [{
    code: 'ad-slot',
    mediaTypes: {
      banner: {
        sizes: [[300, 250]]
      }
    },
    bids: [{
      bidder: 'sovrn',
      params: {
        tagid: 'YOUR_SOVRN_TAG_ID'
      }
    }]
  }];

  pbjs.que.push(function() {
    pbjs.addAdUnits(adUnits);

    pbjs.requestBids({
      timeout: 1500,
      bidsBackHandler: function() {
        console.log("All bids:", pbjs.getBidResponsesForAdUnitCode('ad-slot'));

        var winner = pbjs.getHighestCpmBids('ad-slot')[0];
        console.log("Winner:", winner);

        if (winner) {
          pbjs.renderAd(document.getElementById('ad-slot'), winner.adId);
        } else {
          document.getElementById('ad-slot').innerHTML =
            "<strong>No Sovrn bid returned</strong>";
        }
      }
    });
  });
</script>
</body>
</html>
