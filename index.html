<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Prebid Sovrn Test Page</title>
  <style>
    #ad-slot {
      width: 300px;
      height: 250px;
      border: 1px solid #333;
    }
  </style>
</head>
<body>
  <h1>Prebid Sovrn Standalone Test</h1>

  <div id="ad-slot"></div>

  <!-- Prebid.js must include the Sovrn adapter -->
  <script src="prebid.js"></script>

  <script>
    var AD_UNIT_CODE = 'ad-slot';
    var SOVRN_TAGID = '1290741'; // <-- Replace with your Sovrn tag ID

    window.pbjs = window.pbjs || {};
    pbjs.que = pbjs.que || [];

    pbjs.que.push(function() {
      // Define ad unit
      var adUnits = [{
        code: AD_UNIT_CODE,
        mediaTypes: {
          banner: { sizes: [[300, 250]] }
        },
        bids: [{
          bidder: 'sovrn',
          params: { tagid: SOVRN_TAGID }
        }]
      }];

      pbjs.addAdUnits(adUnits);

      // Request bids
      pbjs.requestBids({
        timeout: 2000,
        bidsBackHandler: function() {
          // Get winning bids
          var winners = pbjs.getHighestCpmBids(AD_UNIT_CODE);
          if (winners && winners.length > 0) {
            // Render the creative
            pbjs.renderAd(document.getElementById(AD_UNIT_CODE), winners[0].adId);
            console.log('Rendered Sovrn creative:', winners[0]);
          } else {
            // No bid
            document.getElementById(AD_UNIT_CODE).innerHTML = '<em>No Sovrn bid returned</em>';
            console.log('No winning bid found');
          }
        }
      });
    });
  </script>
</body>
</html>
